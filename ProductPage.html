<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/ProductPage.css">
    <link rel="stylesheet" href="/font/font.css">
    <title>X</title>
</head>

<body>
    <style>

    </style>
    <header>
        <!-- CONTANER DO HEADER -->
        <section class="col-header">
            <section class="logo"><a href=""><img src="img/Logo-removebg-preview.png" alt=""></a></section>
            <section class="topics">
                <ul>
                    <li><a href="#">HOME</a></li>
                    <li><a href="#">DESTAQUE</a></li>
                    <li><a href="#">HOMEM</a></li>
                    <li><a href="#">MULHER</a></li>
                </ul>
            </section>
            <nav>
                <ul>
                    <section class="search" >
                        <input type="search" placeholder="Buscar" >
                    </section>
                    <li><a href=""><img src="img/ICONS/do-utilizador.png" alt=""></a></li>
                    <li><a href=""><img src="img/ICONS/carrinho-carrinho.png" alt=""></a></li>
                </ul>
            </nav>
        </section>
    </header>
    <main>
        <section class="col">
            <div class="product">
                <div class="col-img">
                    <div class="text">
                        <p id="marcaTenis"></p>
                    </div>
                    <img id="produtoImagem" src="" alt="">
                </div>
            </div>
            <div class="costumize">
                <div class="color3">
                    <div class="title-color">
                        <p>Escolha Sua Cor</p>
                    </div>
                    <div class="colors">
                        <button onclick="trocarImagem(0)" class="color" id="cor1">

                        </button>
                        <button onclick="trocarImagem(1)" class="color" id="cor2">

                        </button>
                        <button onclick="trocarImagem(2)" class="color" id="cor3">

                        </button>
                    </div>
                </div>
                <div class="description">
                    <div class="qtd">
                        <input type="" name="" id="" placeholder="Size">
                    </div>
                    <div class="price">
                        <div class="price2">
                            <span>R$</span>
                            <p id="produtoPreco"></p>
                        </div>
                    </div>
                    <div class="btn">
                        <button id="paymentBtn">ADQUIRIR</button>
                    </div>
                </div>
            </div>


            <!-- Modal de pagamento com cartão -->
            <div id="paymentModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>Formas de Pagamento</h2>
                    <form id="paymentForm">
                        <label for="name">Nome Completo:</label>
                        <input type="text" id="name" name="name">

                        <label for="cpf">CPF:</label>
                        <input type="text" id="cpf" name="cpf" class="cpf" maxlength="14" placeholder="XXX.XXX.XXX-XX"
                            required>

                        <label for="dob">Data de Nascimento:</label>
                        <input type="date" id="dob" name="dob" required>

                        <label for="cardNumber">Número do Cartão:</label>
                        <input type="text" id="cardNumber" name="cardNumber" class="card-number" maxlength="19"
                            placeholder="XXXX XXXX XXXX XXXX" required>

                        <button type="submit" id="submitPayment">Concluir Pagamento</button>
                    </form>
        
                    <!-- Botão de pagamento Pix -->
                    <button id="pixBtn">Pagar com Pix</button>
                </div>
            </div>

            <!-- Modal de pagamento Pix -->
            <div id="pixModal" class="modal">
                <div class="modal-content">
                    <span class="close-pix">&times;</span>
                    <h2>Pagamento com Pix</h2>
                    <p>Escaneie o QR Code abaixo para realizar o pagamento:</p>
                    <!-- Substitua a imagem abaixo pelo QR Code gerado pelo seu sistema -->
                    <img src="https://via.placeholder.com/200" alt="QR Code Pix">
                </div>
            </div>

        </section>

    </main>
    <script>

        // Modal de pagamento com cartão
        var modal = document.getElementById("paymentModal");
        var btn = document.getElementById("paymentBtn");
        var span = document.getElementsByClassName("close")[0];

        // Quando clicar no botão, mostra o modal
        btn.onclick = function() {
            modal.style.display = "block";
        }

        // Quando clicar no X (fechar), esconde o modal
        span.onclick = function() {
            modal.style.display = "none";
        }

        // Quando clicar fora do modal, esconde o modal
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        // Modal de pagamento Pix
        var pixModal = document.getElementById("pixModal");
        var pixBtn = document.getElementById("pixBtn");
        var spanPix = document.getElementsByClassName("close-pix")[0];

        // Quando clicar no botão Pix, mostra o modal Pix
        pixBtn.onclick = function() {
            pixModal.style.display = "block";
        }

        // Quando clicar no X (fechar) no modal Pix, esconde o modal
        spanPix.onclick = function() {
            pixModal.style.display = "none";
        }

        // Quando clicar fora do modal Pix, esconde o modal
        window.onclick = function(event) {
            if (event.target == pixModal) {
                pixModal.style.display = "none";
            }
        }

        // Lida com o envio do formulário de cartão (pode adicionar validação ou integração com API de pagamento aqui)
        document.getElementById("paymentForm").onsubmit = function(event) {
            event.preventDefault(); // Evita o comportamento padrão de envio do formulário
            alert("Pagamento com cartão processado com sucesso!");
            modal.style.display = "none"; // Fecha o modal após o envio
        }



        let imagem = localStorage.getItem('produtoImagem');
        let preco = localStorage.getItem('produtoPreco');
        let imagem2 = localStorage.getItem('produtoImagem2');
        let imagem3 = localStorage.getItem('produtoImagem3');
        let imagem4 = localStorage.getItem('produtoImagem4');

        let marcaTenis = localStorage.getItem('marcaTenis');



        document.getElementById('produtoImagem').src = imagem;
        document.getElementById('produtoPreco').innerText = preco;



        const marca = `
                <p id="marcaTenis" >${marcaTenis}</p>
        `


        document.getElementById('marcaTenis').innerHTML = marca;

        /*SETAR COR DOS TENIS*/
        const SetColor1 = `
            <button class="color">
                <img src="${imagem2}" alt="" style="width: 100%; position: relative; bottom:">
            </button>
        `; const SetColor2 = `
            <button class="color">
                <img src="${imagem3}" alt="" style="width: 100%; position: relative; bottom:">
            </button>
        `; const SetColor3 = `
            <button class="color">
                <img src="${imagem4}" alt="" style="width: 100%; position: relative; bottom:">
            </button>
        `;

        document.getElementById('cor1').innerHTML = SetColor1;
        document.getElementById('cor2').innerHTML = SetColor2;
        document.getElementById('cor3').innerHTML = SetColor3;





        /*TROCAR IMAGENS DO TENIS*/
        const imagens = [imagem2, imagem3, imagem4];

        function trocarImagem(indice) {
            const imgElement = document.getElementById('produtoImagem');

            imgElement.src = imagens[indice];
        }

        document.getElementById('size1').innerHTML = SetSize;
        document.getElementById('size2').innerHTML = SetSize2;
        document.getElementById('size3').innerHTML = SetSize3;
        document.getElementById('size4').innerHTML = SetSize4;

    </script>
</body>
</html>